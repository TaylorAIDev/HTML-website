(function($){"use strict";UNCODE.fullPage=function(){if(!UNCODE.isFullPage&&!UNCODE.isFullPageSnap||SiteParameters.is_frontend_editor)return $("body").removeClass("uncode-fullpage").removeClass("uncode-fullpage-slide").removeClass("fp-waiting"),!1;requestTimeout(function(){window.scrollTo(0,0)},10);var $masthead=$("#masthead"),$logo=$("#logo-container-mobile"),$logolink=$("[data-minheight]",$logo),logoMinScale=$logolink.data("minheight"),logoMaxScale=$("[data-maxheight]",$logo).data("maxheight"),$container=$(".main-container .post-content"),$rows=$container.find(".vc_row[data-parent]").addClass("uncode-scroll-lock fp-auto-height"),$header=$("#page-header").addClass("uncode-scroll-lock fp-auto-height"),headerName=$(".vc_row[data-name]",$header).attr("data-name"),headerLabel=$(".vc_row[data-label]",$header).attr("data-label"),headerWithOpacity=$(".header-scroll-opacity",$header).length,menuHidden=!$("body").hasClass("vmenu")&&$("body").hasClass("uncode-fp-menu-hide")?!0:!1,$footer=$("#colophon").addClass("uncode-scroll-lock fp-auto-height"),scrollBar=!0,effect,animationEndTimeOut,fp_anim_time=900,fp_easing="cubic-bezier(0.37, 0.31, 0.2, 0.85)",is_scrolling=!1,dataNames=[],is_first=!0,no_history=$("body").hasClass("uncode-scroll-no-history"),theres_footer=!0;($("> div",$footer).outerHeight()<2||!$footer.length)&&$("> div",$footer).each(function(index,el){$(el).outerHeight()<2?theres_footer=!1:theres_footer=!0}),$footer.length||(theres_footer=!1),UNCODE.isFullPageSnap||($("body").hasClass("uncode-fullpage-zoom")?effect="scaleDown":$("body").hasClass("uncode-fullpage-parallax")?effect="moveparallax":effect="movecurtain"),$("body").hasClass("uncode-fullpage-trid")&&(fp_anim_time*=2),$header.length&&(headerName!==""&&$header.attr("data-name",headerName),headerLabel!==""&&$header.attr("data-label",headerLabel),$container.prepend($header)),theres_footer&&($container.append($footer),$footer.attr("data-anchor",SiteParameters.slide_footer).data("name",SiteParameters.slide_footer),$("aside.widget ul",$footer).addClass("no-list"));var $all=$rows.add($header);theres_footer&&($all=$all.add($footer)),$all.each(function(index,row){index===0&&$(row).addClass("uncode-scroll-active")}),!UNCODE.isMobile&&!$("body").hasClass("uncode-scroll-no-dots")&&$("<ul class='onepage-pagination'></ul>").prependTo("body"),$all.each(function(index,val){var getName=$(val).data("name"),label;if(typeof getName=="undefined"||getName=="undefined")getName=SiteParameters.slide_name+"-"+index;dataNames.indexOf(getName)>0&&(getName+="_"+index,$(val).data("name",getName)),dataNames.push(getName),$(val).attr("data-section",index+1).attr("data-anchor",getName),typeof $(val).attr("data-label")!="undefined"?label=$(val).attr("data-label"):label="";if($(val).is($footer))return;label!=""?(label='<span class="cd-label style-accent-bg border-accent-color">'+label+"</span>",$("ul.onepage-pagination").append("<li><a class='one-dot-link' data-index='"+index+"' href='#"+getName+"'><span class='cd-dot-cont'><span class='cd-dot'></span></span>"+label+"</a></li>")):label==""&&$("body").hasClass("uncode-empty-dots")&&$("ul.onepage-pagination").append("<li><a class='one-dot-link' data-index='"+index+"' href='#"+getName+"'><span class='cd-dot-cont'><span class='cd-dot'></span></span></a></li>")});var checkVisible=function(el,off){typeof jQuery=="function"&&el instanceof jQuery&&(el=el[0]),off=typeof off=="undefined"?50:off;var rect=el.getBoundingClientRect();return rect.top>=0&&rect.top+off<=(window.innerHeight||document.documentElement.clientHeight)||rect.bottom>=off&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)||rect.top<=0&&rect.bottom>=(window.innerHeight||document.documentElement.clientHeight)},animationEndAction=function(index,nextIndex){var $currentSlide=$('.uncode-scroll-lock[data-section="'+index+'"]',$container),$nextSlide=$('.uncode-scroll-lock[data-section="'+nextIndex+'"]',$container),player,iframe;$nextSlide.is($footer)||$(".no-scrolloverflow").removeClass("no-scrolloverflow"),UNCODE.isFullPageSnap||activateKBurns(nextIndex),$("body:not(.uncode-fullpage-zoom) .background-video-shortcode, .uncode-video-container.video",$currentSlide).each(function(index,val){$(this).attr("data-provider")=="vimeo"?(iframe=$(this).find("iframe"),player=new Vimeo.Player(iframe[0]),player.pause()):$(this).attr("data-provider")=="youtube"?youtubePlayers[$(this).attr("data-id")]!=undefined&&youtubePlayers[$(this).attr("data-id")].pauseVideo():$(this).is("video")&&($(this)[0].volume=0,$(this)[0].pause())}),!UNCODE.isMobile&&headerWithOpacity&&$nextSlide.is($header)&&$header.removeClass("header-scrolled");var $otherEl=$(".uncode-scroll-lock:not(.hidden-scroll)",$container).not($nextSlide);$otherEl.each(function(){var $otherThis=$(this),$bgwrapperOther=$(".background-inner",$otherThis);checkVisible($otherThis)||$bgwrapperOther.removeClass("uncode-kburns").removeClass("uncode-zoomout")});if(!checkVisible($currentSlide)){$currentSlide.removeClass("uncode-scroll-visible");var currentScroll=$(".fp-scrollable",$currentSlide).data("iscrollInstance");typeof currentScroll!="undefined"&&!UNCODE.isFullPageSnap&&currentScroll.scrollTo(0,0,0)}clearRequestTimeout(animationEndTimeOut),animationEndTimeOut=requestTimeout(function(){Waypoint.refreshAll(),$(document.body).trigger("uncode_waypoints");var eventFP=new CustomEvent("fp-slide-changed");window.dispatchEvent(eventFP),is_scrolling=!1,is_first&&($("ul.onepage-pagination a").removeClass("is-selected"),$('ul.onepage-pagination a[data-index="'+(nextIndex-1)+'"]').addClass("is-selected"),is_first=!1)},500)},postLeaveActions=function(nextIndex){if(menuHidden&&!UNCODE.isMobile)return!1;var $el=$('.uncode-scroll-lock[data-section="'+nextIndex+'"]',$container),$cols=$(".uncol",$el),anchor=$el.data("anchor");UNCODE.isFullPageSnap||$.each($cols,function(index,val){if($(val).hasClass("style-light"))return $masthead.removeClass("style-dark-override").addClass("style-light-override"),!1;if($(val).hasClass("style-dark"))return $masthead.removeClass("style-light-override").addClass("style-dark-override"),!1}),typeof anchor!="undefined"&&anchor!==""&&$('.menu-item > a[href*="#'+anchor+'"]').length&&($(".menu-item").removeClass("active"),$('.menu-item > a[href*="#'+anchor+'"]').closest(".menu-item").addClass("active")),UNCODE.isFullPageSnap||activateBackWash(nextIndex)},activateBackWash=function(nextIndex){var $el=$('.uncode-scroll-lock[data-section="'+nextIndex+'"]',$container),$bgwrapper;if(!$el.length)return!1;if($el.hasClass("with-zoomout"))$bgwrapper=$(".background-inner:nth-child(1)",$el);else{if(!$(".with-zoomout",$el).length)return!1;$bgwrapper=$(".with-zoomout .background-inner:nth-child(1)",$el)}$bgwrapper.addClass("uncode-zoomout")},activateKBurns=function(nextIndex){var $el=$('.uncode-scroll-lock[data-section="'+nextIndex+'"]',$container),$bgwrapper;if(!$el.length)return!1;if($el.hasClass("with-kburns"))$bgwrapper=$(".background-inner:nth-child(1)",$el);else{if(!$(".with-kburns",$el).length)return!1;$bgwrapper=$(".with-kburns .background-inner:nth-child(1)",$el)}$bgwrapper.addClass("uncode-kburns")},activateParallax=function(nextIndex,direction){var $el=$('.uncode-scroll-lock[data-section="'+nextIndex+'"]',$container),$cell=$(".fp-tableCell",$el),animationEnd="webkitAnimationEnd animationend",cellAnim;switch(direction){case"up":cellAnim="moveFromTopInner";break;default:cellAnim="moveFromBottomInner"}$cell.css({"animation-name":cellAnim,"animation-duration":fp_anim_time+"ms","animation-delay":"","animation-timing-function":fp_easing,"animation-fill-mode":"both"}).off(animationEnd).on(animationEnd,function(event){event.originalEvent.animationName===cellAnim&&$cell.css({"animation-name":"","animation-duration":"","animation-delay":"","animation-timing-function":"","animation-fill-mode":""})})},scrollHashes=function(){var hash=window.location.hash.replace("#","").split("/"),hashInd;hash[0]!==""&&hash[0]!==SiteParameters.slide_footer?$('.uncode-scroll-lock[data-anchor="'+hash[0]+'"]').length&&(hashInd=$('.uncode-scroll-lock[data-anchor="'+hash[0]+'"]').index("[data-anchor]"),$.fn.fullpage.moveTo(hashInd+1)):hash[0]===""&&$.fn.fullpage.moveTo(1)},hideMenu=function(index,nextIndex){if($("body").hasClass("vmenu")||UNCODE.isFullPageSnap||!$("body").hasClass("uncode-fp-menu-hide"))return!1;var hMenu=UNCODE.menuHeight,transTime=hMenu*2;if(index===1&&nextIndex>1)hMenu*=-1;else{if(index===1||nextIndex!==1)return!1;hMenu=0}$masthead.css({"-webkit-transform":"translate3d(0, "+hMenu+"px, 0)",transform:"translate3d(0, "+hMenu+"px, 0)","-webkit-transition":"transform 0.5s ease-in-out",transition:"transform 0.5s ease-in-out"})},shrinkMenu=function(index,nextIndex){if($("body").hasClass("vmenu")||!$("body").hasClass("uncode-fp-menu-shrink"))return!1;if(index===1&&nextIndex>1)$logo.addClass("shrinked"),$("div",$logo).each(function(index,val){$(val).css({height:logoMinScale,"line-height":logoMinScale}),$(val).hasClass("text-logo")&&$(val).css({"font-size":logoMinScale+"px"})}),requestTimeout(function(){UNCODE.menuMobileHeight=$masthead.outerHeight()},300);else{if(index===1||nextIndex!==1)return!1;$logo.removeClass("shrinked"),$("div",$logo).each(function(index,val){$(val).css({height:logoMaxScale,"line-height":logoMaxScale}),$(val).hasClass("text-logo")&&$(val).css({"font-size":logoMaxScale+"px"})}),requestTimeout(function(){UNCODE.menuMobileHeight=$masthead.outerHeight()},300)}},anchorLink=function(){$container.add(".menu-item").find('a[href*="#"]').click(function(e){var $this=$(e.currentTarget),hash=e.currentTarget.href.split("#"),current=window.location.href.split("#"),ind,currentMenuOpened=UNCODE.menuOpened,go=!1,hash_url=hash[0].replace(/\/?$/,"/"),current_url=current[0].replace(/\/?$/,"/");(hash_url==current_url||hash_url=="")&&hash[1]!=""&&(hash="#"+hash[1],e.preventDefault(),go=!0),go&&($(hash).length?ind=$(hash).closest(".fp-section").index():(hash=hash.slice(1),ind=$('.fp-section[data-anchor="'+hash+'"]').index(".fp-section")),typeof $this.attr("data-filter")!="undefined"&&$this.attr("data-filter")!=""&&(ind=$this.closest(".fp-section").index()),UNCODE.menuOpened=!1,$.fn.fullpage.moveTo(ind+1),UNCODE.menuOpened=currentMenuOpened,UNCODE.menuOpened&&(UNCODE.wwidth<UNCODE.mediaQuery?window.dispatchEvent(UNCODE.menuMobileTriggerEvent):($(".mmb-container-overlay .overlay-close").trigger("click"),$(".mmb-container .trigger-overlay.close")[0].dispatchEvent(new Event("click")))))}),$(".header-scrolldown").on("click",function(event){event.preventDefault();var scrollDown=$(this),ind=scrollDown.closest(".fp-section").index();$.fn.fullpage.moveTo(ind+2)});var anchor=$(".fp-section.active").data("anchor");typeof anchor!="undefined"&&anchor!==""&&$('.menu-item > a[href="#'+anchor+'"]').length&&($(".menu-item").removeClass("active"),$('.menu-item > a[href="#'+anchor+'"]').closest(".menu-item").addClass("active"))},slideLeave=function(index,nextIndex,direction){var $currentSlide=$('.uncode-scroll-lock[data-section="'+index+'"]',$container),$nextSlide=$('.uncode-scroll-lock[data-section="'+nextIndex+'"]',$container),animationEnd="webkitAnimationEnd animationend",transitionEnd="webkitTransitionEnd transitionend",animOut=effect!="scaleDown"?effect+direction:effect,animIn,isFooter=!1,isFooterNext=!1,footerH=$footer.outerHeight(),timeout,player,iframe,footerCoeff;switch(direction){case"up":animIn="moveFromTop";break;default:animIn="moveFromBottom"}$("body").hasClass("uncode-fullpage-trid")?(animOut=animIn+"trid",animIn=animOut+"In"):UNCODE.isFullPageSnap&&(animIn=animOut="none"),hideMenu(index,nextIndex),shrinkMenu(index,nextIndex),$(".uncode-fullpage-zoom .background-video-shortcode, .uncode-video-container.video",$currentSlide).each(function(index,val){$(this).attr("data-provider")=="vimeo"?(iframe=$(this).find("iframe"),player=new Vimeo.Player(iframe[0]),player.pause()):$(this).attr("data-provider")=="youtube"?youtubePlayers[$(this).attr("data-id")]!=undefined&&youtubePlayers[$(this).attr("data-id")].pauseVideo():$(this).is("video")&&($(this)[0].volume=0,$(this)[0].pause())}),$(".background-video-shortcode, .uncode-video-container.video",$nextSlide).each(function(index,val){$(this).attr("data-provider")=="vimeo"?(iframe=$(this).find("iframe"),iframe.on("load",function(){player=new Vimeo.Player(iframe),player.setVolume(0),player.play()}),player=new Vimeo.Player(iframe),player.setVolume(0),player.play()):$(this).attr("data-provider")=="youtube"?youtubePlayers[$(this).attr("data-id")]!=undefined&&youtubePlayers[$(this).attr("data-id")].playVideo():$(this).is("video")&&($(this)[0].volume=0,$(this)[0].play())}),$currentSlide.is($footer)&&(isFooter=!0),$nextSlide.is($footer)&&(isFooterNext=!0),!UNCODE.isMobile&&headerWithOpacity&&$currentSlide.is($header)&&$header.addClass("header-scrolled"),footerCoeff=footerH;if(UNCODE.isFullPageSnap)postLeaveActions(nextIndex),activateBackWash(nextIndex),activateKBurns(nextIndex),requestTimeout(function(){animationEndAction(index,nextIndex)},fp_anim_time+150);else if(isFooterNext){var $iscrollWrapper=$currentSlide.find(".fp-scrollable");$iscrollWrapper.addClass("no-scrolloverflow"),$nextSlide.add($currentSlide).addClass("uncode-scroll-front").addClass("uncode-scroll-active").addClass("uncode-scroll-visible"),$container.css({"-webkit-transform":"translate3d(0, -"+footerCoeff+"px, 0)",transform:"translate3d(0, -"+footerCoeff+"px, 0)","-webkit-transition":"transform "+footerCoeff*2+"ms "+fp_easing,transition:"transform "+footerCoeff*2+"ms "+fp_easing}).off(transitionEnd).one(transitionEnd,function(){animationEndAction(index,nextIndex)})}else if(isFooter)$('.uncode-scroll-lock[data-section="'+(index-1)+'"]',$container).add($currentSlide).addClass("uncode-scroll-front").addClass("uncode-scroll-active").addClass("uncode-scroll-visible"),$container.css({"-webkit-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)","-webkit-transition":"transform "+footerCoeff*2+"ms "+fp_easing,transition:"transform "+footerCoeff*2+"ms "+fp_easing}).one(transitionEnd,function(){nextIndex!==index-1&&(clearRequestTimeout(timeout),timeout=requestTimeout(function(){$.fn.fullpage.moveTo(nextIndex),slideLeave(index-1,nextIndex,"up"),$container.off(transitionEnd)},50)),animationEndAction(index,nextIndex)});else{postLeaveActions(nextIndex),$("body").hasClass("uncode-fullpage-trid")||activateParallax(nextIndex,direction);var $outBg=$(".background-wrapper",$currentSlide);$nextSlide.addClass("uncode-scroll-front").addClass("uncode-scroll-active").addClass("uncode-scroll-visible").addClass("uncode-scroll-animating-in").css({"z-index":4,"animation-name":animIn,"animation-duration":fp_anim_time+"ms","animation-delay":"","animation-timing-function":fp_easing,"animation-fill-mode":"both",transition:"initial"}).off(animationEnd).on(animationEnd,function(event){event.originalEvent.animationName===animIn&&($(this).addClass("uncode-scroll-already").removeClass("uncode-scroll-front").removeClass("uncode-scroll-animating-in").css({"animation-name":"","animation-duration":"","animation-delay":"","animation-timing-function":"","animation-fill-mode":"",transition:"initial"}),$currentSlide.removeClass("uncode-scroll-active").add($outBg).css({"animation-name":"","animation-duration":"","animation-delay":"","animation-timing-function":"","animation-fill-mode":"",transition:"initial"}),animationEndAction(index,nextIndex)),nextIndex>1?$("body").addClass("window-scrolled"):$("body").removeClass("window-scrolled")}),$currentSlide.addClass("uncode-scroll-animating-out").removeClass("uncode-scroll-front").css({"z-index":"1","animation-name":animOut,"animation-duration":fp_anim_time+"ms","animation-delay":"","animation-timing-function":fp_easing,"animation-fill-mode":"both",transition:"initial","will-change":"auto"}).off(animationEnd).on(animationEnd,function(event){event.originalEvent.animationName===animOut&&$currentSlide.removeClass("uncode-scroll-animating-out")}),$("body").hasClass("uncode-fp-opacity")&&$currentSlide.find("> div").css({"animation-name":"opacityout","animation-duration":fp_anim_time+"ms","animation-delay":"","animation-timing-function":fp_easing,"animation-fill-mode":"both",transition:"initial"}).off(animationEnd).on(animationEnd,function(event){event.originalEvent.animationName==="opacityout"&&$(event.currentTarget).css({"animation-name":"","animation-duration":"","animation-delay":"","animation-timing-function":"","animation-fill-mode":"",transition:""})})}$(".scroll-top").on("click",function(e){return $.fn.fullpage.moveTo(1),!1})},init_fullPage=function(mode){var checkFPeffects;$container.fullpage({sectionSelector:".uncode-scroll-lock",scrollOverflow:!0,scrollOverflowOptions:{click:!1,preventDefaultException:{tagName:/.*/}},navigation:!1,scrollBar:scrollBar,scrollingSpeed:fp_anim_time,verticalCentered:!0,anchors:no_history?!1:dataNames,recordHistory:!no_history,afterRender:function(){$("body").removeClass("fp-waiting"),$(".uncode-scroll-lock",$container).not(":visible").each(function(){var $invisible=$(this).addClass("hidden-scroll")}),$(".uncode-scroll-lock.active",$container).filter(":visible").each(function(){var $visible=$(this).addClass("uncode-scroll-visible"),visIndex=$visible.index(".uncode-scroll-lock:not(.hidden-scroll)");$('ul.onepage-pagination a[data-index="'+visIndex+'"]').addClass("is-selected")}),$("ul.onepage-pagination a").on("click",function(e){e.preventDefault();var $a=$(this),toIndex=$a.data("index");$.fn.fullpage.moveTo(toIndex+1)}),requestTimeout(function(){scrollHashes()},1e3),$(window).on("hashchange",function(e){requestTimeout(function(){scrollHashes()},500)}),anchorLink(),$("body").hasClass("uncode-fp-opacity")&&$all.each(function(index,row){var testmatch=$(row)[0].className.match(/\bstyle-.*?-bg\b/g,""),classBg;typeof testmatch!="undefined"&&testmatch!==null&&(classBg=testmatch[0],$(row).removeClass(classBg).find(".fp-tableCell").addClass(classBg))}),!$("body").hasClass("vmenu")&&!$("body").hasClass("menu-offcanvas")&&$(window).on("menuOpen gdprOpen",function(){$.fn.fullpage.setAutoScrolling(!1)}).on("menuClose gdprClose",function(){$.fn.fullpage.setAutoScrolling(!0)}),$(window).on("menuMobileOpen menuCanvasOpen unmodal-open uncode-sidecart-open",function(){requestTimeout(function(){$.fn.fullpage.setAutoScrolling(!1)},1e3)}).on("menuMobileClose menuCanvasClose unmodal-close uncode-sidecart-closed",function(){$.fn.fullpage.setAutoScrolling(!0)}),UNCODE.isFullPageSnap||(clearRequestTimeout(checkFPeffects),checkFPeffects=requestTimeout(function(){activateBackWash(1),activateKBurns(1)},100))},onLeave:function(index,nextIndex,direction){if(UNCODE.menuOpened||is_scrolling)return!1;is_scrolling=!0;var event=new CustomEvent("fp-slide-leave");window.dispatchEvent(event),slideLeave(index,nextIndex,direction);if($(".uncode-scroll-lock",$container).eq(nextIndex-1).hasClass("hidden-scroll"))return direction==="up"?$.fn.fullpage.moveTo(nextIndex-1):$.fn.fullpage.moveTo(nextIndex+1),!1;$("ul.onepage-pagination a").removeClass("is-selected"),$('ul.onepage-pagination a[data-index="'+(nextIndex-1)+'"]').addClass("is-selected")}})};init_fullPage(),$(window).on("load",function(){requestTimeout(function(){$.fn.fullpage.reBuild()},3e3)});var addScrollingClass,removeScrollingClass;window.addEventListener("fp-slide-scroll",function(){addScrollingClass=requestTimeout(function(){$("body").addClass("fp-slide-scrolling")},10),clearRequestTimeout(removeScrollingClass),removeScrollingClass=requestTimeout(function(){$("body").removeClass("fp-slide-scrolling")},150),Waypoint.refreshAll()},!1);var setFPheight=function(){var $body=document.body,$footer=document.getElementById("colophon"),$maincontainer=document.querySelector(".main-wrapper"),$sections=document.querySelectorAll(".fp-section"),rect=$maincontainer.getBoundingClientRect(),rect2=$boxcontainer.getBoundingClientRect(),$masthead=document.getElementById("masthead"),_hideMenu=!1,menuHeight=UNCODE.menuHeight;$body.style.height=UNCODE.wheight+"px",!document.body.classList.contains("vmenu")&&document.body.classList.contains("uncode-fp-menu-hide")&&(_hideMenu=!0);for(var i=0;i<$sections.length;i++)$sections[i].style.maxHeight=UNCODE.wheight-menuHeight+"px"};setFPheight(),window.addEventListener("resize",setFPheight,!1),window.addEventListener("orientationchange",setFPheight,!1)}})(jQuery)